# Документация к сборке

### Системные требования
```
Node.js 20.17.0+
```
### Установка зависимостей
```
npm i
```
### Старт проекта
```
npx gulp
```
Понять логику работы проoе всего на реальном примере.
### Создание страницы
выполнить в командной строке:
```
node cli/createPage
```
Вводим название страницы (например contacts), и в папке pages у нас появлется одноименная папка с файлами contacts.pug, contacts.scss, contacts.js
Обращаем внимание на миксин +regPage('contacts', true, true). Он регистрирует стили и скрипты. Представим себе что странице contacts не нужен собственный скрипт, значит мы удаляем contacts.js и меняем значения у regPage на +regPage('contacts', true, false) 

### Создание блока
Теперь создадим первый блок сайта, в котором будем слайдер.
```
node cli/createBlock
```
Вводим название блока (например section-slider), и в папке blocks у нас появлется одноименная папка с файлами section-slider.pug, section-slider.scss, section-slider.js
Создаем разметку, пишем скрипты, стили.
Т.к. мы хотим использовать библиотеку swiper для слайдера регистрируем её в section-slider.pug через миксин regLibrary('swiper/swiper.min.css', 'swiper/swiper.min.js'), предварительно скачав библиотеку в папку public/libs/swiper с CDN
Возвращаемся на страницу contacts.pug и в блоке регистрации указываем +regBlock('section-slider', true, true)
Затем вставляем сам вызов миксина в нужном месте страницы:
```
+sectionSlider()
```

### Компоненты
Есть еще один тип сущностей - компоненты (папка components). Это всякая переиспользуемая мелочовка, типа чекбоксов, форм и т.д.
Создадим компонент модального окна
```
node cli/createComponent
```
Пусть это будет обертка для всех модальных окон, название контента будем получать через параметр и инклудать (см modal/content и вызов модалок на странице index)

Важное замечание - при создании блоков и компонентов они автоматически импортируются в blocks/index.pug и components/index.pug. При удалении нужно не забыть удалить импорты из этих файлов


### Общие стили и скрипты
Все что заимпортировано в app/scss/index.scss компилируется в common.css и подключается по умолчанию.
Все что находится в папке app/js склеивает в единый файл common.js

### Картинки, шрифты ...
Все что созранено в папке public копируется в dist

### SVG спрайты
автоматическая генерация еще не готова, так что сваливаем все иконки в src/sprite/src, чистим, если нужно цвета меняем на currentColor, идем на https://svgsprit.es/ и перетаскиваем весь src в генератор. Затем сохраняем полученное в sprite/sprite.svg, вставляем иконку черех миксин +svg('icon-name')
Для примера смотреть кнопку закрыть в модалке

### SCSS
Пока не настроены глобальный проброс переменный в файлах где нужны данные из app/scss/variables в кадом файле приходится подключать их вручную:
```
@use '../../app/scss/variables.scss' as *;
```
Также если понадобятся миксины:
```
@use '../../app/scss/mixins.scss' as *;
```
Там есть как пример миксины для адаптива, как их использовать приведу пример:
Пишем стили для десктопа:
```css
.block {
    margin: 20px;
    padding: 20px;
}
```
Т.к. миксины сделаны для mobile-first подхода получим:
```css
.block {
    margin: 10px;
    padding: 10px;

    @include tablet() {        
        padding: 20px;
    }

    @include desktop() {        
        margin: 20px;
    }
}
```

Т.е. на мобильном margin и padding будут 10px, c 768px (tablet) padding будет 20px, а с 1024 и margin 20px. Я обчно делаю все стили для десктопа, потом перетакиваю с копированием нужные правила в миксины и меняю в исходном месте.

